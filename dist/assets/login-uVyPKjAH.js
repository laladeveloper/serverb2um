import{r as t,u as c,a as S,b as v,A as o,c as b,j as e,H as L,L as m,F as C}from"./index-ChFFMl3H.js";/* empty css             */import{l as D}from"./userAction-ByL_PvKL.js";function M(){const[x,a]=t.useState(!1),n=c(s=>s.user.success),i=c(s=>s.user.failure),{isAuthenticated:u,user:P}=c(s=>s.user),d=S(),h=v(),[l,w]=t.useState(""),[r,j]=t.useState("");t.useState(null);const[p,y]=t.useState(!1),N=()=>{y(!p)},g=async s=>{s.preventDefault(),a(!0);try{if(!l||!r){o.error("Please fill all the fields"),a(!1);return}d(D(l,r))}catch(f){console.log(`register ${f}`),o.error(f.message||"Login failed. Please try again."),a(!1)}};return t.useEffect(()=>{i&&o.error(i),n&&o.success(n),a(!1),setTimeout(()=>{d(b())},2500),u&&h("/")},[h,u,n,i]),e.jsxs("div",{className:"authbody",children:[e.jsx(L,{hidefooter:!0,isloggedorauth:!0}),e.jsxs("div",{className:"authcont",children:[e.jsx("h2",{children:"Welcome back!"}),e.jsxs("form",{onSubmit:g,method:"post",children:[e.jsx("input",{type:"text",className:"auth-input",placeholder:"Email or username",value:l,name:"username",onChange:s=>w(s.target.value)}),e.jsx("input",{type:p?"text":"password",className:"auth-input",placeholder:"Password",value:r,name:"password",onChange:s=>j(s.target.value)}),e.jsxs("p",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",width:"100%",padding:0},className:"showpassword",children:[e.jsx(m,{to:"/forgetpswrd",className:"already-h-a-n ",children:"Forgot password"}),r&&e.jsx("h6",{className:" cursor-pointer mt-2 mb-2",onClick:N,children:"show password"})]}),e.jsx("button",{className:"auth-trigger",onClick:g,children:x?"Loading ...":"Login"})]}),e.jsx("p",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},children:e.jsx("span",{style:{cursor:"pointer",fontWeight:600,color:"rgba(10,10,10,0.7)"},children:"Or"})}),e.jsx("p",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",padding:0},children:e.jsx(m,{to:"/register",className:"already-h-a-n",children:"New to B2UM? Sign up"})})]}),e.jsx(C,{})]})}export{M as default};
