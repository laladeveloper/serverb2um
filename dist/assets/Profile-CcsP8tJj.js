import{u as E,r as n,a as U,b as D,j as e,H as A,L as u,B,A as i,c as L}from"./index-ChFFMl3H.js";import{a as P,u as w}from"./userAction-ByL_PvKL.js";function H(){const{user:l,token:j,message:M}=E(a=>a.user),[t,f]=n.useState(l.fname),[o,g]=n.useState(l.lname),[r,v]=n.useState(l.username),[m,I]=n.useState(l.email),[c,R]=n.useState(l.role),[b,T]=n.useState(l.isVerifiedSeller),[N,h]=n.useState(""),[s,p]=n.useState(!1),d=U(),S=D(),x=()=>{s?i.info("Click Below Button to Save changes"):i.info("Click Below Button to Make changes")},y=()=>{d(P()),h("Logout Successful"),i.success(N),setTimeout(()=>{d(L())},3e3),h(""),S("/")},C={fname:t,lname:o,username:r,email:m},k=async()=>{if(s===!0){d(w(j,C)),i.success("Your changes are saved Succefully"),p(!s);return}p(!s),i.info("Update your Profile as you want")};return e.jsxs("div",{children:[e.jsx(A,{active:"profile"}),e.jsx("div",{style:{marginTop:"6em"},children:e.jsxs("div",{className:"profile-profilepic",children:[t==null?void 0:t.charAt(0).toUpperCase()," "]})}),e.jsxs("div",{children:[t?e.jsx("h1",{style:{textAlign:"center",color:"rbga(0,0,0,0.7)"},children:t+" "+o}):e.jsx("h1",{style:{textAlign:"center",color:"rbga(0,0,0,0.7)"},children:r}),c==="user"?e.jsx("button",{className:"profile-sellbtn",children:e.jsx(u,{to:"/seller",style:{textDecoration:"none"},id:"link",children:"Register as seller"})}):null,c==="seller"&&b?e.jsx("button",{className:"profile-sellbtn",children:e.jsx(u,{to:"/sellerpanel",style:{textDecoration:"none"},id:"link",children:"Start Selling"})}):null,c==="admin"?e.jsx("button",{className:"profile-sellbtn",children:e.jsx(u,{to:"/admin",style:{textDecoration:"none"},id:"link",children:"Admin Dashboard"})}):null]}),e.jsxs("div",{className:"profile-content-body",children:[e.jsxs("div",{className:"profile-meta-body",children:[e.jsxs("div",{className:"profile-meta-cont",children:[e.jsx("span",{children:"Available Balance"}),e.jsxs("span",{style:{fontWeight:700},children:[l.balance," USD"]})]}),e.jsxs("div",{className:"profile-meta-cont",children:[e.jsx("span",{children:"Points Earned"}),e.jsxs("span",{style:{fontWeight:700},children:[l.points," POINTS"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"profile-lead-inp",children:[e.jsx("div",{className:"profile-lead-inp-title",children:s?"Update Name":"First & Last Name"}),e.jsxs("div",{className:"profile-lead-inp-subcont sojc0",children:[e.jsx("input",{type:"text",placeholder:t,name:"fname",id:"fname",value:t,onChange:a=>f(a.target.value),disabled:!s}),e.jsx("input",{type:"text",placeholder:o,name:"lname",id:"lname",value:o,onChange:a=>g(a.target.value),disabled:!s}),e.jsxs("button",{onClick:x,children:[" ",s?"Change":"Edit"," "]})]})]}),e.jsxs("div",{className:"profile-lead-inp",children:[e.jsxs("div",{className:"profile-lead-inp-title",children:[" ",s?"Update Username":"Username "," "]}),e.jsxs("div",{className:"profile-lead-inp-subcont",children:[e.jsx("input",{type:"text",name:"username",id:"username",placeholder:r,value:r,onChange:a=>v(a.target.value),disabled:!s}),e.jsxs("button",{onClick:x,children:[" ",s?"Change":"Edit"]})]})]}),e.jsxs("div",{className:"profile-lead-inp",children:[e.jsxs("div",{className:"profile-lead-inp-title",children:[" ",s?"Update Email":"Email"," "]}),e.jsxs("div",{className:" emailinput",children:[e.jsx("p",{children:m}),e.jsx(B,{size:20,color:"074173",cursor:"pointer",onClick:()=>i.info("Email will be Unique and Can't Change")})]})]})]}),e.jsxs("div",{className:" mb-60 flex justify-between",children:[e.jsx("button",{className:"logout-btn",onClick:k,children:e.jsx("h4",{style:{textDecoration:"none"},id:"link",children:s?"Save":"Edit Profile"})}),e.jsx("button",{className:"logout-btn",onClick:y,children:e.jsx("h4",{style:{textDecoration:"none"},id:"link",children:"Logout"})})]})]})]})}export{H as default};
