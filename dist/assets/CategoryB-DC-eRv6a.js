import{d as v,r as i,e as I,j as s,f as E,g as P,L as A,F as L}from"./index-ChFFMl3H.js";import{H as M}from"./Category-BqD-yntX.js";import{b as $}from"./baseURL-DsOFbXy_.js";function O(){var d,h,x,m,j,f,p,u,g,N,y;const{id:t}=v(),{category:b}=v(),[c,n]=i.useState(0),[S,o]=i.useState(""),[k,r]=i.useState(!1),[e,l]=i.useState([]);i.useEffect(()=>{I.get(`${$}/api/product/name/${t}`).then(a=>{l(a.data.products),n(a.data.products[0].stock)}).catch(a=>{console.error("Error fetching products:",a),l([])})},[b]);const C=()=>{c>0&&(n(c-1),o(""),r(!1))},F=()=>{e[0].stock>c?(n(c+1),r(!1)):(o("maximum stock reached"),r(!0))};return s.jsxs("div",{children:[s.jsx(M,{title:t}),s.jsxs("div",{style:{marginTop:"6em"},className:"category-body",children:[s.jsx("div",{}),s.jsx("img",{src:(x=(h=(d=e[0])==null?void 0:d.category)==null?void 0:h.icon)==null?void 0:x.url,className:"category-b-img"}),s.jsx("h3",{style:{textAlign:"center"},children:t}),s.jsxs("div",{className:"category-b-qnty",children:[s.jsx("button",{onClick:C,children:s.jsx(E,{})}),console.log(e),s.jsxs("h4",{children:[" ",c," "]}),s.jsx("button",{onClick:F,children:s.jsx(P,{})})]}),s.jsx("p",{className:`text-center text-red-500 ${k?"animate-fadeInOut":""}`,children:S}),s.jsxs("div",{className:"category-b-p-cont",children:[s.jsx("button",{style:{backgroundColor:"#2AFFE2",fontFamily:700,border:"1px solid rgba(10,10,10,0.4)"},children:"Purchase now"}),s.jsx("button",{children:s.jsx(A,{id:"link",style:{textDecoration:"none"},to:"/messages/Offgamers12",children:"Contact seller"})})]}),s.jsxs("div",{className:"category-infoholder-body-forlargescreens",children:[s.jsxs("div",{className:"category-infoholder-body",children:[s.jsx("h3",{children:"Product Information"}),s.jsxs("div",{className:"category-infoholder-info-cont",children:[s.jsx("span",{className:"cihic-t",children:"Total Price"}),s.jsxs("span",{className:"cihic-t cihic-t2",children:["$",(m=e[0])==null?void 0:m.price," usd"]})]}),s.jsxs("div",{className:"category-infoholder-info-cont",children:[s.jsx("span",{className:"cihic-t",children:"Delivery time"}),s.jsxs("span",{className:"cihic-t cihic-t2",children:[parseInt((j=e[0])==null?void 0:j.deliverIn,10)," -"," ",parseInt((f=e[0])==null?void 0:f.deliverIn,10)+3," mins"]})," "]}),s.jsxs("div",{className:"category-infoholder-info-cont",children:[s.jsx("span",{className:"cihic-t",children:"Card type"}),s.jsx("span",{className:"cihic-t cihic-t2",children:"E-code"})]}),s.jsxs("div",{className:"category-infoholder-info-cont",children:[s.jsx("span",{className:"cihic-t",children:"Can Activate in"}),s.jsxs("span",{className:"cihic-t cihic-t2",children:[" ",(p=e[0])==null?void 0:p.location," "]})]})]}),s.jsxs("div",{className:"category-infoholder-body",children:[s.jsx("h3",{children:"Seller Information"}),s.jsxs("div",{className:"category-infoholder-info-cont",children:[s.jsx("span",{className:"cihic-t",children:"Seller"}),s.jsxs("span",{className:"cihic-t cihic-t2",children:[" ",(g=(u=e[0])==null?void 0:u.seller)==null?void 0:g.username," "]})]}),s.jsxs("div",{className:"category-infoholder-info-cont",children:[s.jsx("span",{className:"cihic-t",children:"Seller Level"}),s.jsxs("span",{className:"cihic-t cihic-t2",children:["Level ",(y=(N=e[0])==null?void 0:N.seller)==null?void 0:y.points," "]})]}),s.jsxs("div",{className:"category-infoholder-info-cont",children:[s.jsx("span",{className:"cihic-t",children:"Seller About"}),s.jsx("span",{className:"cihic-t cihic-t2",children:"392 Solds"})]}),s.jsxs("div",{className:"category-infoholder-info-cont",children:[s.jsx("span",{className:"cihic-t",children:"Rating"}),s.jsx("span",{className:"cihic-t cihic-t2",children:"99%"})]})]})]})]}),s.jsx(L,{})]})}export{O as default};
